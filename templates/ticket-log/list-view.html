{% extends 'base/app/base.html' %}
{% block content %}
  <h1 class="display-4 mt-4 mb-4 text-center">Alle Ticket Logs</h1>
  <div class="container">
    {% for ticketlog in ticketlogs %}
      <div class=" border border-secondary px-3 pt-3 rounded-3 mb-3">
        <div class="d-flex w-100 justify-content-between">
          <h5 class="mb-1">{{ ticketlog.action }} on `{{ ticketlog.table_name }}` by UID: {{ ticketlog.user_id }}</h5>
          <small>{{ ticketlog.timestamp }}</small>
        </div>
        <div class="d-flex flex-row justify-content-between">
          <div class="flex-column">
            <p class="small">New Data:</p>
            <ul class="">
              {% for k,v in ticketlog.new_data.items %}
                <li><span class="fw-bold">{{ k }}</span>: {{ v }} </li>
              {% endfor %}
            </ul>
          </div>
          {% if ticketlog.old_data %}
            <div class="flex-column">
              <p class="small">Old Data:</p>
              <ul class="">
                {% for k,v in ticketlog.old_data.items %}
                <li><span class="fw-bold">{{ k }}</span>: {{ v }} </li>
                {% endfor %}
              </ul>
            </div>
          {% endif %}
        </div>
      </div>
    {% endfor %}
  </div>
{% endblock %}
